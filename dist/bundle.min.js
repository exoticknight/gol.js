!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r,o,s=n(1),a=i(s);!function(n,i,s){r=[],o=function(){return n[i]=s(n)}.apply(t,r),!(void 0!==o&&(e.exports=o))}(window,"GOL",function(e){return a["default"]})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),a=i(s),l=function(){function e(){r(this,e)}return o(e,null,[{key:"createGame",value:function(e,t,n,i){var r=Object.assign({displayScheme:{borderWidth:1,cellWidth:10},colorScheme:{aliveColor:"000000",deadColor:"FFFFFF",worldColor:"FFFFFF",borderColor:"FFFFFF"},gps:15},i);return new a["default"](e,t,n,r.displayScheme,r.colorScheme,r.gps)}}]),e}();t["default"]=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),a=i(s),l=n(4),u=i(l),c=function(){function e(t,n,i,o,s,l){r(this,e),this.grid=new u["default"](t,n,i,o,s),this.life=new a["default"](n,i),this.speed=1e3/l,this.enable=!1,this.running=!1,this._mouseState={press:!1,lastX:-1,lastY:-1},this._boundMethod={}}return o(e,[{key:"_toggleCell",value:function(e,t){var n=this.grid.getXFromPixel(e),i=this.grid.getYFromPixel(t);-1===n||-1===i||this._mouseState.lastX===n&&this._mouseState.lastY===i||(this._mouseState.lastX=n,this._mouseState.lastY=i,this.life.isAlive(n,i)?(this.life.killAt(n,i),this.grid.drawDeadCellAt(n,i)):(this.life.aliveAt(n,i),this.grid.drawAliveCellAt(n,i)))}},{key:"_onMouseDown",value:function(e){this._mouseState.press=!0,this._toggleCell(e.clientX,e.clientY)}},{key:"_onMouseMove",value:function(e){this._mouseState.press&&this._toggleCell(e.clientX,e.clientY)}},{key:"_onMouseUp",value:function(e){this._mouseState.press=!1,this._mouseState.lastX=this._mouseState.lastY=-1}},{key:"_setupLinsteners",value:function(){var e=this;this._boundMethod._onMouseDown=function(t){return e._onMouseDown(t)},this._boundMethod._onMouseMove=function(t){return e._onMouseMove(t)},this._boundMethod._onMouseUp=function(t){return e._onMouseUp(t)},this.grid.on("mousedown",this._boundMethod._onMouseDown),this.grid.on("mousemove",this._boundMethod._onMouseMove),this.grid.on("mouseup",this._boundMethod._onMouseUp)}},{key:"_teardownLinsteners",value:function(){this.grid.off("mousedown",this._boundMethod._onMouseDown),this.grid.off("mousemove",this._boundMethod._onMouseMove),this.grid.off("mouseup",this._boundMethod._onMouseUp),this._boundMethod={}}},{key:"init",value:function(e){this.stop(),this.life.init(e),this.grid.init(),this._setupLinsteners(),this.enable=!0}},{key:"stop",value:function(){this.running=!1,this.enable=!1,this.life.reset(),this.grid.claer(),this._teardownLinsteners()}},{key:"pause",value:function(){this.enable&&(this.running=!1)}},{key:"resume",value:function(){this.enable&&this.run()}},{key:"step",value:function(){if(this.enable){var e=this.life.nextGeneration();this.grid.drawCells(e)}}},{key:"run",value:function(){var e=this;this.enable&&!this.running&&!function(){e.running=!0;var t=function n(){e.running&&(e.step(),setTimeout(n,e.speed))};setTimeout(t,0)}()}}]),e}();t["default"]=c},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(t,i){n(this,e),this.row=t,this.column=i,this.generation=0,this.world={},this.changedState={}}return i(e,[{key:"init",value:function(e){for(var t=void 0,n=void 0,i=0,o=e.length;o>i;i++){var s=r(e[i],2);t=s[0],n=s[1],t>=0&&t<this.column&&n>=0&&n<this.row&&(this.changedState[t+","+n]=1)}}},{key:"_processLife",value:function(e,t,n){var i=e+","+t;this.world[i]?this.world[i][0]=n?1:0:this.world[i]=[1,0];for(var o=0,s=[[e-1,t-1],[e-1,t],[e-1,t+1],[e,t-1],[e,t+1],[e+1,t-1],[e+1,t],[e+1,t+1]],a=n?1:-1,l=0;8>l;l++){var u=r(s[l],2),c=u[0],h=u[1];if(c>=0&&c<this.column&&h>=0&&h<this.row){var d=c+","+h,f=this.world[d];switch(f?(f[1]+=a,f[0]&&o++):f=this.world[d]=[0,1],f[1]){case 8:case 7:case 6:case 5:case 4:case 1:case 0:this.changedState[d]=-1;break;case 3:this.changedState[d]=1;break;case 2:this.changedState[d]=0}}}switch(this.world[i][1]=o,o){case 8:case 7:case 6:case 5:case 4:case 1:case 0:this.changedState[i]=-1;break;case 3:this.changedState[i]=1;break;case 2:this.changedState[i]=0}}},{key:"aliveAt",value:function(e,t){this._processLife(e,t,!0)}},{key:"killAt",value:function(e,t){this._processLife(e,t,!1)}},{key:"isAlive",value:function(e,t){return this.world[e+","+t]&&this.world[e+","+t][0]}},{key:"nextGeneration",value:function(){var e=Object.assign({},this.changedState),t={0:[],1:[]};this.changedState={},this.generation++;for(var n in e){var i=n.split(",").map(function(e){return parseInt(e)}),o=r(i,2),s=o[0],a=o[1];1!==e[n]||this.world[n]&&0!==this.world[n][0]||(this.aliveAt(s,a),t[1].push([s,a])),-1===e[n]&&1===this.world[n][0]&&(this.killAt(s,a),t[0].push([s,a]))}return t}},{key:"reset",value:function(){this.world={},this.changedState={},this.generation=0}}]),e}();t["default"]=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var a=n(5),l=i(a),u=function(){function e(t,n,i,o,s){r(this,e),this.view=t,this.canvas=new l["default"](t),this.row=n,this.column=i,this.displayScheme=o,this.colorScheme=s}return o(e,[{key:"init",value:function(){this.drawWorld()}},{key:"on",value:function(e,t){this.view.addEventListener(e,t,!1)}},{key:"off",value:function(e,t){this.view.removeEventListener(e,t)}},{key:"getXFromPixel",value:function(e){var t=this.displayScheme.borderWidth+this.displayScheme.cellWidth,n=~~((e-this.canvas.left)/t);return n%t<=this.displayScheme.cellWidth?n:-1}},{key:"getYFromPixel",value:function(e){var t=this.displayScheme.borderWidth+this.displayScheme.cellWidth,n=~~((e-this.canvas.top)/t);return n%t<=this.displayScheme.cellWidth?n:-1}},{key:"drawWorld",value:function(){this.canvas.setPenColor(this.colorScheme.worldColor),this.canvas.drawRect(0,0,this.column*(this.displayScheme.borderWidth+this.displayScheme.cellWidth),this.row*(this.displayScheme.borderWidth+this.displayScheme.cellWidth))}},{key:"drawCells",value:function(e){this.canvas.setPenColor(this.colorScheme.aliveColor);for(var t=void 0,n=void 0,i=0,r=e[1].length;r>i;i++){var o=s(e[1][i],2);t=o[0],n=o[1],this.drawCellAt(t,n)}this.canvas.setPenColor(this.colorScheme.deadColor);for(var t=void 0,n=void 0,i=0,r=e[0].length;r>i;i++){var a=s(e[0][i],2);t=a[0],n=a[1],this.drawCellAt(t,n)}}},{key:"drawCellAt",value:function(e,t){this.canvas.drawRect(e*(this.displayScheme.borderWidth+this.displayScheme.cellWidth),t*(this.displayScheme.borderWidth+this.displayScheme.cellWidth),this.displayScheme.cellWidth,this.displayScheme.cellWidth)}},{key:"drawAliveCellAt",value:function(e,t){this.canvas.setPenColor(this.colorScheme.aliveColor),this.drawCellAt(e,t)}},{key:"drawDeadCellAt",value:function(e,t){this.canvas.setPenColor(this.colorScheme.deadColor),this.drawCellAt(e,t)}},{key:"claer",value:function(){this.canvas.clear()}}]),e}();t["default"]=u},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(t){n(this,e),this.cxt=t.getContext("2d"),this.fillStyle="#000000",this.left=t.getBoundingClientRect().left,this.top=t.getBoundingClientRect().top}return i(e,[{key:"setPenColor",value:function(e){this.cxt.fillStyle=this.fillStyle="#"+e}},{key:"drawRect",value:function(e,t,n,i){this.cxt.fillRect(e,t,n,i)}},{key:"clear",value:function(){this.cxt.clearRect(0,0,this.cxt.canvas.width,this.cxt.canvas.height)}}]),e}();t["default"]=r}]);